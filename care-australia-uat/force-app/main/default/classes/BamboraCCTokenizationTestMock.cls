global class BamboraCCTokenizationTestMock implements HttpCalloutMock  {
    /*global void doInvoke(
Object stub,
Object request,
Map<String, Object> response,
String endpoint,
String soapAction,
String requestName,
String responseNS,
String responseName,
String responseType) {

// Create response element from the autogenerated class.
// Populate response element.
// Add response element to the response parameter, as follows:
response.put('response_x', responseElement); 
}*/
    protected Integer StatusCode = 200;
    protected Integer ReturnValue = 0;
    public BamboraCCTokenizationTestMock (Integer StatusCode,Integer ReturnValue) {
        this.StatusCode = StatusCode;
        this.ReturnValue = ReturnValue;
        
    }
    global HTTPResponse respond(HTTPRequest req) {
        // Create a fake response.
        // Set response values, and 
        // return response.
        System.assertEquals('https://demo.ippayments.com.au/interface/api/sipp.asmx', req.getEndpoint());
        System.assertEquals('POST', req.getMethod());
        String responseXML ;
        if(ReturnValue == 0){         
            responseXML = responceXML_0();
        }else if(ReturnValue == 1){
            responseXML = responceXML_1();
            
        }else if(ReturnValue == 2){
            responseXML = responceXML_2();
            
        }else if(ReturnValue == 4){
            responseXML = responceXML_4();
            
        }else if(ReturnValue == 99){
            responseXML = responceXML_99();
            
        }else{
            responseXML = '<?xml version="1.0" encoding="utf-8"?>';
            responseXML += '<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">';
            responseXML += '<soap:Body>';
            responseXML += '<TokeniseCreditCardResponse xmlns="http://www.ippayments.com.au/interface/api/sipp">';
            responseXML += '<TokeniseCreditCardResult>&lt;TokeniseCreditCardResponse&gt;';
            responseXML += '&lt;ReturnValue&gt;5068&lt;/ReturnValue&gt;';
            responseXML += '&lt;DeclinedMessage&gt;CustomCheckout - SecureTransactionToken already used&lt;/DeclinedMessage&gt;';
            responseXML += '&lt;Token&gt;&lt;/Token&gt;';
            responseXML += '&lt;/TokeniseCreditCardResponse&gt;</TokeniseCreditCardResult>';
            responseXML += '</TokeniseCreditCardResponse>';
            responseXML += '</soap:Body>';
            responseXML += '</soap:Envelope>';
        }
        
        
        // Create a fake response
        HttpResponse res = new HttpResponse();
        res.setHeader('Content-Type', 'text/xml;charset=UTF-8');
        res.setBody(responseXML);
        res.setStatusCode(StatusCode);
        return res;
    }
    
    public String responceXML_0(){
        String  responseXML = '<?xml version="1.0" encoding="utf-8"?>';
        responseXML += '<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">';
        responseXML +='<soap:Body>';
        responseXML +='<TokeniseCreditCardResponse xmlns="http://www.ippayments.com.au/interface/api/sipp">';
        responseXML +='<TokeniseCreditCardResult>&lt;TokeniseCreditCardResponse&gt;';
        responseXML +='&lt;ReturnValue&gt;0&lt;/ReturnValue&gt;';
        responseXML +='&lt;Token&gt;9727677674500853&lt;/Token&gt;';
        responseXML +='&lt;CardType&gt;Visa&lt;/CardType&gt;';
        responseXML +='&lt;TruncatedCard&gt;424242******4242&lt;/TruncatedCard&gt;';
        responseXML +='&lt;ExpM&gt;02&lt;/ExpM&gt;';
        responseXML +='&lt;ExpY&gt;2022&lt;/ExpY&gt;';
        responseXML +='&lt;/TokeniseCreditCardResponse&gt;</TokeniseCreditCardResult>';
        responseXML +='</TokeniseCreditCardResponse>';
        responseXML +='</soap:Body>';
        responseXML +='</soap:Envelope>';
        return responseXML;
    }
    public String responceXML_4(){
        String  responseXML = '<?xml version="1.0" encoding="utf-8"?>';
        responseXML = '<?xml version="1.0" encoding="utf-8"?>';
        responseXML += '<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">';
        responseXML += '<soap:Body>';
        responseXML += '<TokeniseCreditCardResponse xmlns="http://www.ippayments.com.au/interface/api/sipp">';
        responseXML += '<TokeniseCreditCardResult>&lt;TokeniseCreditCardResponse&gt;';
        responseXML += '&lt;ReturnValue&gt;4&lt;/ReturnValue&gt;';
        responseXML += '&lt;Token&gt;&lt;/Token&gt;';
        responseXML += '&lt;/TokeniseCreditCardResponse&gt;</TokeniseCreditCardResult>';
        responseXML += '</TokeniseCreditCardResponse>';
        responseXML += '</soap:Body>';
        responseXML += '</soap:Envelope>';
        return responseXML;
    }
    public String responceXML_1(){
        String  responseXML = '<?xml version="1.0" encoding="utf-8"?>';
        responseXML = '<?xml version="1.0" encoding="utf-8"?>';
        responseXML += '<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">';
        responseXML += '<soap:Body>';
        responseXML += '<TokeniseCreditCardResponse xmlns="http://www.ippayments.com.au/interface/api/sipp">';
        responseXML += '<TokeniseCreditCardResult>&lt;TokeniseCreditCardResponse&gt;';
        responseXML += '&lt;ReturnValue&gt;1&lt;/ReturnValue&gt;';
        responseXML += '&lt;Token&gt;&lt;/Token&gt;';
        responseXML += '&lt;/TokeniseCreditCardResponse&gt;</TokeniseCreditCardResult>';
        responseXML += '</TokeniseCreditCardResponse>';
        responseXML += '</soap:Body>';
        responseXML += '</soap:Envelope>';
        return responseXML;
    }
     public String responceXML_2(){
        String  responseXML = '<?xml version="1.0" encoding="utf-8"?>';
        responseXML = '<?xml version="1.0" encoding="utf-8"?>';
        responseXML += '<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">';
        responseXML += '<soap:Body>';
        responseXML += '<TokeniseCreditCardResponse xmlns="http://www.ippayments.com.au/interface/api/sipp">';
        responseXML += '<TokeniseCreditCardResult>&lt;TokeniseCreditCardResponse&gt;';
        responseXML += '&lt;ReturnValue&gt;2&lt;/ReturnValue&gt;';
        responseXML += '&lt;Token&gt;&lt;/Token&gt;';
        responseXML += '&lt;/TokeniseCreditCardResponse&gt;</TokeniseCreditCardResult>';
        responseXML += '</TokeniseCreditCardResponse>';
        responseXML += '</soap:Body>';
        responseXML += '</soap:Envelope>';
        return responseXML;
    }
     public String responceXML_99(){
        String  responseXML = '<?xml version="1.0" encoding="utf-8"?>';
        responseXML = '<?xml version="1.0" encoding="utf-8"?>';
        responseXML += '<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">';
        responseXML += '<soap:Body>';
        responseXML += '<TokeniseCreditCardResponse xmlns="http://www.ippayments.com.au/interface/api/sipp">';
        responseXML += '<TokeniseCreditCardResult>&lt;TokeniseCreditCardResponse&gt;';
        responseXML += '&lt;ReturnValue&gt;99&lt;/ReturnValue&gt;';
        responseXML += '&lt;Token&gt;&lt;/Token&gt;';
        responseXML += '&lt;/TokeniseCreditCardResponse&gt;</TokeniseCreditCardResult>';
        responseXML += '</TokeniseCreditCardResponse>';
        responseXML += '</soap:Body>';
        responseXML += '</soap:Envelope>';
        return responseXML;
    }
}