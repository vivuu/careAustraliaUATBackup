global class InvoiceChargeSearchMock implements HttpCalloutMock {
    public HTTPResponse respond(HTTPRequest req) {
        // Create a mock HTTP response
        HttpResponse res = new HttpResponse();
        if(req.getEndpoint().contains('invoice')) {
            res.setBody('{"object":"search_result","data":[{"id":"in_1NyaKdGGWgtqSxG4gD2orENX","object":"invoice","account_country":"AU","account_name":"Care Australia","account_tax_ids":null,"amount_due":4800,"amount_paid":4800,"amount_remaining":0,"amount_shipping":0,"application":null,"application_fee_amount":null,"applied_balance":0,"attempt_count":1,"attempted":true,"auto_advance":false,"automatic_tax":{"enabled":false,"status":null},"billing_reason":"subscription_create","can_send_invoice":true,"can_send_receipt":true,"charge":"ch_3NyaKdGGWgtqSxG40ZbBh8EM","closed":true,"closed_at":1696684450,"collection_method":"charge_automatically","created":1696684451,"currency":"aud","custom_fields":null,"customer":"cus_Om66W3ZN8IcWyY","customer_address":null,"customer_email":"oaish08kukreja@gmail.com","customer_metadata":{"firstName":"Oaish ","lastName":"Kukreja ","sf_contact_id":"0039D00000WOC7dQAH"},"customer_name":"Oaish Kukreja","customer_phone":"61707308650","customer_shipping":null,"customer_tax_exempt":"none","customer_tax_ids":[],"default_payment_method":null,"default_source":null,"default_tax_rates":[],"deleted":false,"description":null,"discount":null,"discount_amount":0,"discount_objects":[],"discounts":[],"draft":false,"due_date":null,"effective_at":1696684451,"ending_balance":0,"finalized_payment_method_types":["au_becs_debit","card"],"footer":null,"forgiven":false,"from_invoice":null,"frozen":true,"has_paid_non_default_payment":false,"has_partial_payments":false,"hosted_invoice_url":"https://invoice.stripe.com/i/acct_1LIkLGGGWgtqSxG4/test_YWNjdF8xTElrTEdHR1dndHFTeEc0LF9PbThiR2tiS3BaaHNXMEQ5dDZDSDhId0U5eE9KeldlLDg3Mjk5MzAz02001SCVfj2h?s=db","invoice_pdf":"https://pay.stripe.com/invoice/acct_1LIkLGGGWgtqSxG4/test_YWNjdF8xTElrTEdHR1dndHFTeEc0LF9PbThiR2tiS3BaaHNXMEQ5dDZDSDhId0U5eE9KeldlLDg3Mjk5MzAz02001SCVfj2h/pdf?s=db","last_finalization_error":null,"last_payment_attempt":1696684450,"latest_revision":null,"lines":{"object":"list","data":[{"id":"il_1NyaKdGGWgtqSxG4XGEc7zrR","object":"line_item","amount":4800,"amount_excluding_tax":4800,"computed_amount":4800,"currency":"aud","description":"4800 Ã— 2021 Afghanistan Crisis Appeal (at $0.01 / every 4 weeks)","discount_amounts":[],"discount_objects":[],"discountable":true,"discounts":[],"invoice_item_persisted":false,"livemode":false,"metadata":{"salesforce_rd_id":"a099D00000OnNzKQAV"},"period":{"end":1699103650,"start":1696684450},"plan":{"id":"price_1NyaKcGGWgtqSxG4cc5UnSWC","object":"plan","active":false,"aggregate_usage":null,"amount":1,"amount_decimal":"1","billing_scheme":"per_unit","created":1696684450,"currency":"aud","interval":"week","interval_count":4,"livemode":false,"metadata":{},"name":"2021 Afghanistan Crisis Appeal","nickname":null,"owning_merchant":"acct_1LIkLGGGWgtqSxG4","owning_merchant_info":"acct_1LIkLGGGWgtqSxG4","product":"prod_Om8b1dYsHhXXrt","tiers_mode":null,"transform_usage":null,"trial_period_days":null,"usage_type":"licensed"},"price":{"id":"price_1NyaKcGGWgtqSxG4cc5UnSWC","object":"price","active":false,"automatic_currency_conversion_eligible":false,"billing_scheme":"per_unit","created":1696684450,"currency":"aud","custom_unit_amount":null,"livemode":false,"lookup_key":null,"metadata":{},"never_used":false,"nickname":null,"owning_merchant":"acct_1LIkLGGGWgtqSxG4","owning_merchant_info":"acct_1LIkLGGGWgtqSxG4","product":"prod_Om8b1dYsHhXXrt","recurring":{"aggregate_usage":null,"interval":"week","interval_count":4,"trial_period_days":null,"usage_type":"licensed"},"tax_behavior":"unspecified","tiers_mode":null,"transform_quantity":null,"type":"recurring","unit_amount":1,"unit_amount_decimal":"1"},"price_backfilled":false,"proration":false,"proration_details":{"credited_items":null},"quantity":4800,"short_description":"2021 Afghanistan Crisis Appeal","subscription":"sub_1NyaKdGGWgtqSxG4QLsvkbeZ","subscription_item":"si_Om8bc7ny4tB2yT","tax_amounts":[],"tax_rates":[],"type":"subscription","unit_amount":1,"unit_amount_decimal":"1","unit_amount_excluding_tax":"1"}],"has_more":false,"total_count":1,"url":"/v1/invoices/in_1NyaKdGGWgtqSxG4gD2orENX/lines"},"livemode":false,"metadata":{},"next_payment_attempt":null,"number":"2A5BD195-0003","on_behalf_of":null,"owning_merchant":"acct_1LIkLGGGWgtqSxG4","owning_merchant_info":"acct_1LIkLGGGWgtqSxG4","paid":true,"paid_out_of_band":false,"paper_checks":[],"payment_intent":"pi_3NyaKdGGWgtqSxG40jp2h1li","payment_method_selection":"payment_settings","payment_pending":false,"payment_settings":{"default_mandate":null,"payment_method_options":null,"payment_method_types":null},"period_end":1696684450,"period_start":1696684450,"post_payment_credit_notes_amount":0,"pre_payment_credit_notes_amount":0,"quote":null,"receipt_number":null,"redaction":null,"reminders_count":0,"rendering":null,"rendering_options":null,"rendering_pdf_page_size":"letter","secret":"test_YWNjdF8xTElrTEdHR1dndHFTeEc0LF9PbThiR2tiS3BaaHNXMEQ5dDZDSDhId0U5eE9KeldlLDg3Mjk5MzAz02001SCVfj2h","send_hosted_payment_email":true,"shipping_cost":null,"shipping_details":null,"starting_balance":0,"statement_descriptor":null,"statement_records_count":0,"status":"paid","status_transitions":{"finalized_at":1696684451,"marked_uncollectible_at":null,"paid_at":1696684450,"voided_at":null},"subscription":"sub_1NyaKdGGWgtqSxG4QLsvkbeZ","subscription_details":{"metadata":{"salesforce_rd_id":"a099D00000OnNzKQAV"}},"subscription_status":"active","subtotal":4800,"subtotal_excluding_tax":4800,"supported_payment_methods":{"au_becs_debit":true,"card":true,"link":false,"wechat_pay":true},"tax":null,"test_clock":null,"total":4800,"total_discount_amounts":[],"total_excluding_tax":4800,"total_tax_amounts":[],"transfer_data":null,"updated":1696684452,"voided":false,"webhooks_delivered_at":1696684451}],"has_more":false,"next_page":null,"url":"/v1/invoices/search"}');
        } else if(req.getEndpoint().contains('charge')) {
            res.setBody('{"id":"ch_3NyaKdGGWgtqSxG40ZbBh8EM","object":"charge","amount":4800,"amount_captured":4800,"amount_refunded":0,"application":null,"application_fee":null,"application_fee_amount":null,"application_fees_refunded":0,"application_fees_refunded_currency":"aud","balance_transaction":"txn_3NyaKdGGWgtqSxG402VYpeUw","billing_details":{"address":{"city":null,"country":null,"line1":null,"line2":null,"postal_code":null,"state":null},"email":null,"name":"main","phone":null},"calculated_statement_descriptor":"CARE AUSTRALIA","captured":true,"captured_at":1696684451,"created":1696684451,"created_with_api_performance_mode":false,"currency":"aud","customer":"cus_Om66W3ZN8IcWyY","description":"Subscription creation","destination":null,"dispute":null,"disputed":false,"failure_balance_transaction":null,"failure_code":null,"failure_message":null,"fraud_details":{},"geocoding":{"billing_zip":{"value":null},"ip":{"city_name":"Indore","country":"IN","country_code":"IN","country_name":"India","lat":22.717,"lon":75.8337,"region_name":"Madhya Pradesh","value":"122.168.244.79"}},"has_good_funds_mt_receipt":false,"has_sv_receipt":false,"invoice":"in_1NyaKdGGWgtqSxG4gD2orENX","link_directly_to_payment_intent":true,"livemode":false,"metadata":{},"multiple_disputes":false,"on_behalf_of":null,"order":null,"outcome":{"dispute_protection_result":{"is_covered":null,"reason_not_covered":null},"network_status":"approved_by_network","reason":null,"risk_level":"normal","risk_score":52,"seller_message":"Payment complete.","type":"authorized"},"owning_merchant":"acct_1LIkLGGGWgtqSxG4","owning_merchant_info":"acct_1LIkLGGGWgtqSxG4","paid":true,"payment_intent":"pi_3NyaKdGGWgtqSxG40jp2h1li","payment_method":"card_1NyaKAGGWgtqSxG42qMTK1Gy","payment_method_details":{"card":{"amount_authorized":4800,"brand":"mastercard","checks":{"address_line1_check":null,"address_postal_code_check":null,"cvc_check":"pass"},"country":"US","exp_month":4,"exp_year":2024,"extended_authorization":{"status":"disabled"},"fingerprint":"RrmuVNY9Fx8pBnxK","funding":"credit","incremental_authorization":{"status":"unavailable"},"installments":null,"is_link":false,"issuer":"CIAGROUP","last4":"4444","mandate":null,"moto":null,"multicapture":{"status":"unavailable"},"network":"mastercard","network_token":{"used":false},"overcapture":{"maximum_amount_capturable":4800,"status":"unavailable"},"three_d_secure":null,"wallet":null},"type":"card"},"receipt_email":null,"receipt_number":null,"receipt_url":"https://pay.stripe.com/receipts/invoices/CAcaFwoVYWNjdF8xTElrTEdHR1dndHFTeEc0KKX5iakGMgbJCRgmhlg6LBYpqEPG4ZWYrKys8X4A27O3IyFjR6UliHqpRnnDQwwuFimV2toXhhUF7DG3?s=ap","refundable":true,"refunded":false,"refunds":{"object":"list","data":[],"has_more":false,"total_count":0,"url":"/v1/charges/ch_3NyaKdGGWgtqSxG40ZbBh8EM/refunds"},"review":null,"session":{"browser":"Chrome","data_source":"client","device":"PC","platform":"Windows 10","session_id":"f20826fb-6244-4ed6-b263-f0398b28bfff","show_session_data":true,"version":"117.0.0.0"},"shipping":null,"source":{"id":"card_1NyaKAGGWgtqSxG42qMTK1Gy","object":"card","address_city":null,"address_country":null,"address_line1":null,"address_line1_check":null,"address_line2":null,"address_state":null,"address_zip":null,"address_zip_check":null,"brand":"MasterCard","country":"US","customer":"cus_Om66W3ZN8IcWyY","cvc_check":"pass","dynamic_last4":null,"exp_month":4,"exp_year":2024,"fingerprint":"RrmuVNY9Fx8pBnxK","funding":"credit","last4":"4444","metadata":{},"name":"main","tokenization_method":null,"wallet":null},"source_transfer":null,"statement_descriptor":null,"statement_descriptor_suffix":null,"status":"succeeded","transfer_data":null,"transfer_group":null,"use_single_bt_partial_capture_behavior":false}');
        }
        res.setHeader('Content-Type', 'application/json');
        res.setStatusCode(200);
        return res;
    }
}